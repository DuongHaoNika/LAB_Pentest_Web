FROM node:20

WORKDIR /web

COPY . .

COPY ./scripts/entrypoint.sh /web/scripts/entrypoint.sh

COPY ./scripts/entrypoint.sh /web/scripts/wait-for-it.sh

RUN npm install

RUN chmod 755 scripts/entrypoint.sh

RUN chmod 755 scripts/wait-for-it.sh

ENTRYPOINT [ "/bin/sh", "scripts/entrypoint.sh" ]

EXPOSE 3000