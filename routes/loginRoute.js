import express from "express";
import loginController from "../controllers/loginController";

const getPageLogin = express.Router();

getPageLogin.post("/", loginController.handleLogin);
getPageLogin.get("/",loginController.checkLoggedIn, loginController.getPageLogin);
getPageLogin.get("/login",loginController.checkLoggedOut, loginController.getPageLogin);
    router.post("/login", passport.authenticate("local", {
        successRedirect: "/",
        failureRedirect: "/login",
        successFlash: true,
        failureFlash: true
    }));

//BUG: https://github.com/mde/ejs/issues/720
// indexRoute.get("/", (req, res) => {
//   res.render("author", req.query);
// });

export default getPageLogin;
